
@{
    ViewBag.Title = "预申请查询详情";
    Layout = "~/Views/Shared/_PLayoutPagePanel.cshtml";
}
@section scripts{
    <script type="text/javascript">
        var id = '@ViewBag.id';
        $(function () {        
        $.PintuerPost(contextUri + '/P/PreApproval/DetailsLoad', { id: id }, function (d) {
            var data = d.data;
            var data1 = d.data1;
            console.log(data1.length);
            var html = '';
            for (var i = 0; i < data1.length; i++) {
                
                html+='<tr>';
                html+=' <td id="UserName">'+data1[i].UserName +'</td>';
                html += ' <td id="ActionType">' + data1[i].ActionType + '</td>';
                var comment = data1[i].Comments == null ? "" : data1[i].Comments;
                html += ' <td id="Comments">' + comment + '</td>';
                html += ' <td id="ApproveDate">' + data1[i].ApproveDate + '</td>';
                html+='</tr>';                
            }
            $('#txttbody').html(html);
            if (data1) {
                $('#UserName').html(data1.UserName);
                $('#ActionType').html(data1.ActionType);
                $('#Comments').html(data1.Comments);
                $('#ApproveDate').html(data1.ApproveDate);     
            }                
            $('#txtApplierName').val(data.ApplierName);
            $('#txtApplierMUDID').val(data.ApplierMUDID);
            $('#txtApplierTerritory').val(data.MRTerritoryCode);
            $('#txtPosition').val(data.Position);
            //$('#txtApplierMobile').val(data.ApplierMobile);
            $('#txtApplierMobile').val("");
            $('#txtCreateDate').val(data.CreateDate);
            $('#txtCreateTime').val(data.CreateTime);
            $('#txtModifyDate').val(data.ModifyDate);
            $('#txtModifyTime').val(data.ModifyTime) ;
            $('#txtHTCode').val(data.HTCode);
            $('#txtMarket').val(data.Market);
            $('#txtVeevaMeetingID').val(data.VeevaMeetingID); //VeevaMeetingID
            $('#txtTA').val(data.TA);
            $('#txtProvince').val(data.Province);
            $('#txtCity').val(data.City);
            $('#txtHospitalCode').val(data.HospitalCode);
            $('#txtHospitalName').val(data.HospitalName);
            $('#txtHospitalAddress').val(data.HospitalAddress);
            $('#txtMeetingName').val(data.MeetingName);
            $('#txtMeetingDate').val(data.MeetingDate);
            $('#txtMeetingTime').val(data.MeetingTime);
            $('#txtAttendCount').val(data.AttendCount);
            $('#txtCostCenter').val(data.CostCenter);
            $('#txtHTType').val(data.HTType == "1" ? "线上HT" : data.HTType == "0" ? "线下HT" : "");
            $('#txtBudgetTotal').val(data.BudgetTotal);
            $('#txtIsDMFollow').val(data.IsDMFollow == true ? "是" : "否");
            $('#txtIsFreeSpeaker').val(data.IsFreeSpeaker == true ? "是" : "否")
            $('#txtRDTerritoryCode').val(data.RDTerritoryCode);
            $('#txtBUHeadName').val(data.BUHeadName);
            $('#txtBUHeadMUDID').val(data.BUHeadMUDID);
            $('#txtBUHeadApproveDate').val(data.BUHeadApproveDate);
            $('#txtBUHeadApproveTime').val(data.BUHeadApproveTime);
            $('#txtState').val(data.State);
            $('#txtIsReAssign').val(data.IsReAssign == true ? "是" : "否");
            $('#txtReAssignOperatorName').val(data.ReAssignOperatorName);
            $('#txtReAssignOperatorMUDID').val(data.ReAssignOperatorMUDID);
            $('#txtReAssignBUHeadName').val(data.ReAssignBUHeadName);
            $('#txtReAssignBUHeadMUDID').val(data.ReAssignBUHeadMUDID);
            $('#txtReAssignBUHeadApproveDate').val(data.ReAssignBUHeadApproveDate);
            $('#txtReAssignBUHeadApproveTime').val(data.ReAssignBUHeadApproveTime);
            $('#txtServiceFile').html(data.SpeakerServiceImage);
            $('#txtBenefitFile').html(data.SpeakerBenefitImage);
        });


    });
    








    </script>
}
<div style="padding: 15px;">
    <form action="" id='form0' method="post">
        <input name="ID" value="@ViewBag.id" type="hidden" />
        <div class="form-group">
            <div class="label"><label for="txtApplierName">申请人姓名</label></div>
            <div class="field">
                <input type="text" class="input" id="txtApplierName" name="txtApplierName" value="" autocomplete="off" readonly="readonly" />
            </div>
            <div class="form-group">
                <div class="label"><label for="txtApplierMUDID">申请人MUDID</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtApplierMUDID" name="txtApplierMUDID" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtApplierTerritory">申请人Territory Code</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtApplierTerritory" name="txtApplierTerritory" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtPosition">申请人职位</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtPosition" name="txtPosition" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtApplierMobile">申请人手机号码</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtApplierMobile" name="txtApplierMobile" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtCreateDate">预申请申请日期</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtCreateDate" name="txtCreateDate" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtCreateTime">预申请申请时间</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtCreateTime" name="txtCreateTime" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtModifyDate">预申请修改日期</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtModifyDate" name="txtModifyDate" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtModifyTime">预申请修改时间</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtModifyTime" name="txtModifyTime" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtHTCode">HT编号</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtHTCode" name="txtHTCode" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtMarket">Market</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtMarket" name="txtMarket" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtMarket">VeevaMeetingID</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtVeevaMeetingID" name="txtVeevaMeetingID" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtTA">TA</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtTA" name="txtTA" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtProvince">省份</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtProvince" name="txtProvince" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtCity">城市</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtCity" name="txtCity" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtHospitalCode">医院编码</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtHospitalCode" name="txtHospitalCode" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtHospitalName">医院名称</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtHospitalName" name="txtHospitalName" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtHospitalAddress">医院地址</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtHospitalAddress" name="txtHospitalAddress" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtMeetingName">会议名称</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtMeetingName" name="txtMeetingName" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtMeetingDate">会议日期</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtMeetingDate" name="txtMeetingDate" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtMeetingTime">会议时间</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtMeetingTime" name="txtMeetingTime" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtAttendCount">参会人数</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtAttendCount" name="txtAttendCount" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtCostCenter">大区区域代码</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtCostCenter" name="txtCostCenter" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtHTType">HT形式</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtHTType" name="txtHTType" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtBUHead">预算金额</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtBudgetTotal" name="txtBudgetTotal" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtIsDMFollow">直线经理是否随访</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtIsDMFollow" name="txtIsDMFollow" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtIsFreeSpeaker">是否由外部免费讲者来讲</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtIsFreeSpeaker" name="txtIsFreeSpeaker" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtRDTerritoryCode">RD Territory Code</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtRDTerritoryCode" name="txtRDTerritoryCode" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtBUHeadName">预申请审批人姓名</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtBUHeadName" name="txtBUHeadName" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtReAssignBUHeadMUDID">预申请审批人MUDID</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtBUHeadMUDID" name="txtBUHeadMUDID" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtBUHeadApproveDate">预申请审批日期</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtBUHeadApproveDate" name="txtBUHeadApproveDate" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtBUHeadApproveTime">预申请审批时间</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtBUHeadApproveTime" name="txtBUHeadApproveTime" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtState">预申请审批状态</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtState" name="txtState" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtIsReAssign">预申请是否重新分配审批人</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtIsReAssign" name="txtIsReAssign" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtReAssignOperatorName">预申请重新分配审批人-操作人</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtReAssignOperatorName" name="txtReAssignOperatorName" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtReAssignOperatorMUDID">预申请重新分配审批人-操作人MUDID</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtReAssignOperatorMUDID" name="txtReAssignOperatorMUDID" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtReAssignBUHeadName">预申请被重新分配审批人姓名</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtReAssignBUHeadName" name="" value="txtReAssignBUHeadName" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtReAssignBUHeadMUDID">预申请被重新分配审批人MUDID</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtReAssignBUHeadMUDID" name="txtReAssignBUHeadMUDID" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtReAssignBUHeadApproveDate">预申请重新分配审批人日期</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtReAssignBUHeadApproveDate" name="txtReAssignBUHeadApproveDate" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtReAssignBUHeadApproveTime">预申请重新分配审批人时间</label></div>
                <div class="field">
                    <input type="text" class="input" id="txtReAssignBUHeadApproveTime" name="txtReAssignBUHeadApproveTime" value="" autocomplete="off" readonly="readonly" />
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtServiceFile">演讲服务协议</label></div>
                <div class="field">
                    <div id="txtServiceFile" name="txtServiceFile"></div>
                </div>
            </div>
            <div class="form-group">
                <div class="label"><label for="txtBenefitFile">利益冲突声明</label></div>
                <div class="field">
                    <div id="txtBenefitFile" name="txtBenefitFile"></div>
                </div>
            </div>
            <div class="label"><label for="txtIsReAssign">审批流程：</label></div>
            <table id="costcenter_dataTable" class="table table-hover">
                <thead>
                    <tr>
                        <th>操作人</th>
                        <th>操作</th>
                        <th>审批意见</th>
                        <th>审批时间</th>
                    </tr>
                </thead>
                <tbody id="txttbody"></tbody>
                <tfoot>
                </tfoot>

            </table>
        </div>
    </form>
</div>


